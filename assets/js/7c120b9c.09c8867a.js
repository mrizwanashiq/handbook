"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7517],{3905:(e,t,n)=>{n.d(t,{Zo:()=>s,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var u=a.createContext({}),c=function(e){var t=a.useContext(u),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},s=function(e){var t=c(e.components);return a.createElement(u.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},p=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,u=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=c(n),m=r,h=p["".concat(u,".").concat(m)]||p[m]||d[m]||o;return n?a.createElement(h,i(i({ref:t},s),{},{components:n})):a.createElement(h,i({ref:t},s))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=p;var l={};for(var u in t)hasOwnProperty.call(t,u)&&(l[u]=t[u]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},2325:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>i,default:()=>d,frontMatter:()=>o,metadata:()=>l,toc:()=>c});var a=n(7462),r=(n(7294),n(3905));const o={sidebar_position:10,id:"redux",title:"Redux",slug:"redux"},i=void 0,l={unversionedId:"react/redux",id:"react/redux",title:"Redux",description:"Before jumping to Redux, we need to understand what state management is.",source:"@site/docs/2.-react/10.-Redux.md",sourceDirName:"2.-react",slug:"/react/redux",permalink:" /mra-docs/docs/react/redux",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/2.-react/10.-Redux.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,id:"redux",title:"Redux",slug:"redux"},sidebar:"tutorialSidebar",previous:{title:"Routing",permalink:" /mra-docs/docs/react/routing"},next:{title:"What is Git and GitHub",permalink:" /mra-docs/docs/category/what-is-git-and-github"}},u={},c=[{value:"What is state and state management in a nutshell?",id:"what-is-state-and-state-management-in-a-nutshell",level:2},{value:"Redux",id:"redux",level:2},{value:"Where Redux is useful",id:"where-redux-is-useful",level:2},{value:"Usage Summary",id:"usage-summary",level:2},{value:"Install Redux Toolkit and React Redux",id:"install-redux-toolkit-and-react-redux",level:3},{value:"Create a redux store",id:"create-a-redux-store",level:3},{value:"Provide the Redux Store to React",id:"provide-the-redux-store-to-react",level:3},{value:"Create a Redux State Slice",id:"create-a-redux-state-slice",level:3},{value:"Add Slice Reducers to the Store",id:"add-slice-reducers-to-the-store",level:3},{value:"Use Redux State and Actions in React Components",id:"use-redux-state-and-actions-in-react-components",level:3},{value:"What You&#39;ve Learned",id:"what-youve-learned",level:2},{value:"SUMMARY",id:"summary",level:3},{value:"Code",id:"code",level:2}],s={toc:c};function d(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},s,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"Before jumping to Redux, we need to understand what state management is."),(0,r.kt)("h2",{id:"what-is-state-and-state-management-in-a-nutshell"},"What is state and state management in a nutshell?"),(0,r.kt)("p",null,"In the simplest definition, State is a JavaScript object that represents the part of a component that can change based on a resultant action of a user. You could also say states are simply the memory of a component."),(0,r.kt)("p",null,"State management is simply a way to engender communication and sharing of data across components. It creates a concrete data structure to represent your app's State that you can read and write.\nSince React 16.8, every React component, whether functional or class, can have a state."),(0,r.kt)("p",null,"When a user performs an action in a typical React app, changes occur in the component's state. While this isn't bad, it quickly becomes a problem if the app begins to scale; hence, such an app's complexity makes it extremely difficult to keep track of all dependencies."),(0,r.kt)("h2",{id:"redux"},"Redux"),(0,r.kt)("p",null,"Redux is a library that helps you to manage your state in a predictable way. "),(0,r.kt)("p",null,"It helps you write applications that behave consistently, run in different environments (client, server, and native), and are easy to test. On top of that, it provides a great developer experience, such as live code editing combined with a time-traveling debugger."),(0,r.kt)("p",null,"You can use Redux together with React, or with any other view library. It is tiny (2kB, including dependencies), but has a large ecosystem of add-ons available."),(0,r.kt)("h2",{id:"where-redux-is-useful"},"Where Redux is useful"),(0,r.kt)("p",null,"Redux is a great tool for managing the state of your application. If there is some state that needs to be shared across components, Redux can help you do that. "),(0,r.kt)("p",null,"In the following example, we have a component that needs to know the current value of a counter. We can use Redux to manage that state."),(0,r.kt)("p",null,"In the following example, we have a component that needs to know the current value of a counter. We can use Redux to manage that state."),(0,r.kt)("p",null,"I created four components:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"CounterText"),": This component is the one that needs to know the current value of the counter."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"DecrementCounter"),": Decrements the counter."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"IncrementCounter"),": Increments the counter."),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("inlineCode",{parentName:"li"},"ChangesByAmount"),": Increases or decreases the counter by a certain amount.")),(0,r.kt)("p",null,"My Counter Page has these four components, all four components should be able to access the same counter."),(0,r.kt)("h2",{id:"usage-summary"},"Usage Summary"),(0,r.kt)("h3",{id:"install-redux-toolkit-and-react-redux"},"Install Redux Toolkit and React Redux"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"npm install @reduxjs/toolkit 2.-react-redux\n")),(0,r.kt)("h3",{id:"create-a-redux-store"},"Create a redux store"),(0,r.kt)("p",null,"Create a file named src/app/store.js. Import the configureStore API from Redux Toolkit. We'll start by creating an empty Redux store, and exporting it:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { configureStore } from '@reduxjs/toolkit'\n\nconst store = configureStore({\n  reducer: {\n    // here goes your reducer\n  },\n})\n\nexport default store\n")),(0,r.kt)("p",null,"This creates a Redux store, and also automatically configure the Redux DevTools extension so that you can inspect the store while developing."),(0,r.kt)("h3",{id:"provide-the-redux-store-to-react"},"Provide the Redux Store to React"),(0,r.kt)("p",null,"Once the store is created, we can make it available to our React components by putting a React Redux ",(0,r.kt)("inlineCode",{parentName:"p"},"<Provider>")," around our application in src/index.js. Import the Redux store we just created, put a ",(0,r.kt)("inlineCode",{parentName:"p"},"<Provider>")," around your ",(0,r.kt)("inlineCode",{parentName:"p"},"<App>"),", and pass the store as a prop:"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"index.js")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport store from './redux/store';\nimport { Provider } from '2.-react-redux'\nimport Counter from './pages/counter';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Counter />\n    </Provider>\n  </React.StrictMode>\n);\n")),(0,r.kt)("h3",{id:"create-a-redux-state-slice"},"Create a Redux State Slice"),(0,r.kt)("p",null,"Add a new file named ",(0,r.kt)("inlineCode",{parentName:"p"},"src/redux/app/index.js"),". In that file, import the ",(0,r.kt)("inlineCode",{parentName:"p"},"createSlice")," API from ",(0,r.kt)("inlineCode",{parentName:"p"},"Redux Toolkit"),"."),(0,r.kt)("p",null,"Creating a slice requires a string name to identify the slice, an initial state value, and one or more reducer functions to define how the state can be updated. Once a slice is created, we can export the generated Redux action creators and the reducer function for the whole slice."),(0,r.kt)("p",null,'Redux requires that we write all state updates immutably, by making copies of data and updating the copies. However, Redux Toolkits createSlice and createReducer APIs use Immer inside to allow us to write "mutating" update logic that becomes correct immutable updates.'),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"src/redux/app/index.js")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { createSlice } from '@reduxjs/toolkit'\n\nexport const counterSlice = createSlice({\n  name: 'counter',\n  initialState: {\n    value: 0,\n  },\n  reducers: {\n    increment: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based on those changes\n      state.value += 1\n    },\n    decrement: (state) => {\n      state.value -= 1\n    },\n    incrementByAmount: (state, action) => {\n      state.value += action.payload\n    },\n  },\n})\n\n// Action creators are generated for each case reducer function\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions\n\nexport default counterSlice.reducer\n")),(0,r.kt)("h3",{id:"add-slice-reducers-to-the-store"},"Add Slice Reducers to the Store"),(0,r.kt)("p",null,"Next, we need to import the reducer function from the counter slice and add it to our store. By defining a field inside the reducers' parameter, we tell the store to use this slice reducer function to handle all updates to that state."),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"app/store.js")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},"import { configureStore } from '@reduxjs/toolkit'\nimport counterReducer from '../features/counter/counterSlice'\n\nexport default configureStore({\n  reducer: {\n    counter: counterReducer,\n  },\n})\n")),(0,r.kt)("h3",{id:"use-redux-state-and-actions-in-react-components"},"Use Redux State and Actions in React Components"),(0,r.kt)("p",null,"Now we can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"React Redux hooks")," to let React components interact with the ",(0,r.kt)("inlineCode",{parentName:"p"},"Redux store"),". We can read data from the store with ",(0,r.kt)("inlineCode",{parentName:"p"},"useSelector"),", and dispatch actions using ",(0,r.kt)("inlineCode",{parentName:"p"},"useDispatch"),". Create a ",(0,r.kt)("inlineCode",{parentName:"p"},"src/page/counter.jsx")," file with a ",(0,r.kt)("inlineCode",{parentName:"p"},"<Counter>")," component inside, then import that component into ",(0,r.kt)("inlineCode",{parentName:"p"},"index.js")," and render it:"),(0,r.kt)("p",null,"Create four components:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"CounterText: This component is the one that needs to know the current value of the counter."),(0,r.kt)("li",{parentName:"ol"},"DecrementCounter: This component is the one that decrements the counter."),(0,r.kt)("li",{parentName:"ol"},"IncrementCounter: This component is the one that increments the counter.")),(0,r.kt)("p",null,"Now we can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"useSelector")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"useDispatch")," hooks to read and dispatch actions."),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"src/components/counterText.jsx")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { useSelector } from '2.-react-redux'\n\nexport default function CounterText() {\n  const count = useSelector((state) => state.counter.value)\n\n  return (\n      <text>{count}</text>\n  )\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"src/components/decrementButton.jsx")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { useDispatch } from '2.-react-redux'\nimport { decrement } from '../redux/app'\n\nexport default function DecrementButton() {\n  const dispatch = useDispatch()\n\n  const handleClick = () => {\n    dispatch(decrement())\n  }\n\n  return (\n    <button onClick={handleClick}>-</button>\n  )\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"src/components/incrementButton.jsx")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { useDispatch } from '2.-react-redux'\nimport { increment } from '../redux/app'\n\nexport default function IncrementButton() {\n  const dispatch = useDispatch()\n\n  const handleClick = () => {\n    dispatch(increment())\n  }\n\n  return (\n    <button onClick={handleClick}>+</button>\n  )\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"src/components/changesByAmount.jsx")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport { useDispatch } from '2.-react-redux'\nimport { incrementByAmount } from '../redux/app'\n\nexport default function ChangesByAmount() {\n  const dispatch = useDispatch()\n\n  const handleClick = (event) => {\n    event.preventDefault();\n    // checking if the input is a number\n    const amount = parseInt(event.target.number.value)\n    if (!isNaN(amount)) {\n      dispatch(incrementByAmount(amount))\n    }\n    event.target.number.value = ''\n  }\n\n  return (\n    <form onSubmit={handleClick}>\n      <input type='number' name='number' placeholder='Change by Amount'/>\n      <button type='submit'>Change by amount</button>\n    </form>\n  )\n}\n")),(0,r.kt)("p",null,"Now we can import the ",(0,r.kt)("inlineCode",{parentName:"p"},"CounterText")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"DecrementButton")," components into ",(0,r.kt)("inlineCode",{parentName:"p"},"src/page/counter.js")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"src/page/counter.jsx")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react'\nimport CounterText from '../components/counterText'\nimport DecrementButton from '../components/decrementButton'\nimport IncrementButton from '../components/incrementButton'\nimport ChangesByAmount from '../components/changesByAmount'\n\nexport default function Counter() {\n  return (\n    <div>\n      <DecrementButton />\n      <CounterText />\n      <IncrementButton />\n      <ChangesByAmount />\n    </div>\n  )\n}\n")),(0,r.kt)("p",null,"Now, any time you click the ",(0,r.kt)("inlineCode",{parentName:"p"},"Increment")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"Decrement")," buttons, or enter a number into the ",(0,r.kt)("inlineCode",{parentName:"p"},"Change by Amount")," field, the counter will update.:"),(0,r.kt)("p",null,"The corresponding Redux action will be dispatched to the store\nThe counter slice reducer will see the actions and update its state\nThe ",(0,r.kt)("inlineCode",{parentName:"p"},"CounterText")," component will be updated to display the new state value from the store and re-render itself with the new data"),(0,r.kt)("h2",{id:"what-youve-learned"},"What You've Learned"),(0,r.kt)("p",null,"That was a brief overview of how to set up and use the Redux Toolkit with React. Recapping the details:"),(0,r.kt)("h3",{id:"summary"},"SUMMARY"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Create a Redux store with ",(0,r.kt)("inlineCode",{parentName:"li"},"configureStore"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"configureStore")," accepts a ",(0,r.kt)("inlineCode",{parentName:"li"},"reducer")," function as a named argument"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"configureStore")," automatically sets up the store with good default settings"))),(0,r.kt)("li",{parentName:"ul"},"Provide the Redux store to the React application components",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Put a React Redux ",(0,r.kt)("inlineCode",{parentName:"li"},"<Provider>")," component around your ",(0,r.kt)("inlineCode",{parentName:"li"},"<App />")),(0,r.kt)("li",{parentName:"ul"},"Pass the Redux store as ",(0,r.kt)("inlineCode",{parentName:"li"},"<Provider store={store}>")))),(0,r.kt)("li",{parentName:"ul"},'Create a Redux "slice" reducer with ',(0,r.kt)("inlineCode",{parentName:"li"},"createSlice"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Call ",(0,r.kt)("inlineCode",{parentName:"li"},"createSlice")," with a string name, an initial state, and named reducer functions"),(0,r.kt)("li",{parentName:"ul"},'Reducer functions may "mutate" the state using Immer'),(0,r.kt)("li",{parentName:"ul"},"Export the generated slice reducer and action creators"))),(0,r.kt)("li",{parentName:"ul"},"Use the React Redux ",(0,r.kt)("inlineCode",{parentName:"li"},"useSelector/useDispatch")," hooks in React components",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Read data from the store with the ",(0,r.kt)("inlineCode",{parentName:"li"},"useSelector")," hook"),(0,r.kt)("li",{parentName:"ul"},"Get the dispatch function with the ",(0,r.kt)("inlineCode",{parentName:"li"},"useDispatch")," hook, and ",(0,r.kt)("inlineCode",{parentName:"li"},"dispatch")," actions as needed")))),(0,r.kt)("h2",{id:"code"},"Code"),(0,r.kt)("p",null,"You can get the code for this tutorial ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/mrizwanashiq/learning-react-js/tree/example/redux"},"here")))}d.isMDXComponent=!0}}]);