---
sidebar_position: 8
id: local-storage-for-session-management
title: Local Storage for Session Management
# description: Local Storage for Session Management
slug: local-storage-for-session-management
---

## What is Local Storage?
Local storage in React is a way to store data in the browser's local storage. Data is stored against domain, so it can be accessed from different pages of the same domain. This is useful for storing data that is not sensitive, such as user login details, or session data. One can see the data in the browser's local storage by opening the developer tools. Data is stored against a key, and can be retrieved using the key.

## How to use Local Storage?
In React, local storage is accessed using the `localStorage` object. The `localStorage` object is a global object, so it can be accessed from anywhere in the application. 

### `localStorage.setItem()`
The `localStorage` object has a method called `setItem` that takes two parameters: the key and the value. The value can be any type of data, but must be serializable. The key is a string, and must be unique. The `setItem` method returns `undefined`. 

```jsx
localStorage.setItem('key', 'value');
```
Serialization is the process of converting a data structure into a string representation. The string representation of the data is stored in the local storage. For example, if you want to store an array of numbers, or a complex object, you can't just store the array or object in the local storage. You must convert it to a string representation, and then store it in the local storage. In this case, you can use the `JSON.stringify` method to convert the array/object to a string.

Array: 
```jsx
localStorage.setItem('key', JSON.stringify([1, 2, 3]));
```

Object: 
```jsx
localStorage.setItem('key', JSON.stringify({name: 'John', age: 30}));
```

And to retrieve the data, you can use the `JSON.parse` method to convert the string back to an array/object. I will show an example of how to use the `JSON.parse` method in the next section.

### `localStorage.getItem()`
The `getItem` method takes a single parameter, the key. The `getItem` method returns the value stored against the key. If no value is stored against the key, it returns `undefined`.

```jsx
localStorage.getItem('key');
```

If they stored an array or object in the local storage by using the `JSON.stringify` method, now you have to use the `JSON.parse` method to convert the string back to an array/object.

```jsx
JSON.parse(localStorage.getItem('key'));
```

### `localStorage.removeItem()`
The `removeItem` method takes a single parameter, the key. The `removeItem` method returns `undefined`. It removes the value stored against the key. 

```jsx
localStorage.removeItem('key')
```

### `localStorage.clear()`
The `clear` method removes ALL THE VALUES stored in the local storage. It returns `undefined`. Normally, this method is not used as it is not recommended to clear the local storage. Cause it removes all the data stored in the local storage.

```jsx
localStorage.clear()
```

### `localStorage.key()`
The `key` method returns the key of the item that is currently being accessed. It returns `undefined` if no item is being accessed.

```jsx
localStorage.key()
```

## Local Storage for Session Management
In this section, I will show how to use local storage to store session data. First of all, what is session? and why is it important?

### What is Session?
Session is created when a user logs in to the application. And the session is destroyed when the user logs out of the application. For example, you logged in to a website. It will store the user's login details like username, user_id, jwt token, etc. And whenever you again want to use the website, first of all website will check if the user is logged in. If the user is logged in, it will check if the session is still valid. If the session is valid, it will display the user's profile. If the session is not valid, it will redirect the user to the login page.

### Why is it important?
Session is important because it stores the user's login details. It is used to check if the user is logged in. If the user is not logged in, it will redirect the user to the login page. As I mentioned earlier, session is created when the user logs in to the application. And the session is destroyed when the user logs out of the application. This is a way to store the user's login details. 

For example, you logged in to a website. It will store your details like username, user_id, jwt token, etc. And now when that website will hit the server, frontend will send the jwt token to the server. The server will recognize the jwt token and will return data that is related to the user, not all the data that is stored in the database.

### How to use local storage for session management?
While login to the application, you will store the user's login details in the local storage. And while logging out of the application, you will remove the user's login details from the local storage. Normally I store user's token in the localStorage that is returned by the server. And while logging out, I remove the token from the localStorage.

On Login:
```jsx
localStorage.setItem('user', JSON.stringify({username: 'john', user_id: 1, token: 'jwt token'}));
```
On Logging out:
```jsx
localStorage.removeItem('user');
```

Where I need user's token:
```jsx
const user = JSON.parse(localStorage.getItem('user'));
```

## Code
You can get the complete code from [here](https://github.com/mrizwanashiq/learning-react-js/tree/example/routes)